+++
title = "2018-08-13"
weight = 71
+++  

# ä»Šæ—¥å­¦ä¹ 
## ç”¨æˆ·æ‰‹å†Œ
### æ•æ·ç®¡ç†  
æ¨¡å—ç®¡ç†æƒé™  
æ•æ·ç®¡ç†æœåŠ¡ä¸»è¦ç”¨æ¥ç®¡ç†é¡¹ç›®çš„éœ€æ±‚ã€è®¡åˆ’å’Œæ‰§è¡Œã€‚   
æ•æ·çš„Scrumæ¨¡å‹  


### å‡ ä¸ªé—®é¢˜  
ï¼ˆ1ï¼‰ ç”Ÿå‘½å‘¨æœŸï¼š
`componentDidMount`æ—¶ï¼Œ**åˆå§‹åŒ–æ•°æ®**   

        // Home1.js
         componentDidMount() {
            this.props.UserMapStore.initData();
        }

        // UserMapStore.js
        initData = (type = 'none', pageType = 'usermap') => axios.all([
            axios.get(`/agile/v1/projects/${AppState.currentMenuType.id}/issues/storymap/epics`),
            axios.get(`/agile/v1/projects/${AppState.currentMenuType.id}/quick_filter`),
            axios.get(`/agile/v1/projects/${AppState.currentMenuType.id}/issues/storymap/issues?type=${type}&pageType=${pageType}`),
        ])
            .then(axios.spread((epics, filters, issues) => {
            this.setFilters(filters);
            this.setEpics(epics);
            this.setIssues(issues);
            // ä¸¤ä¸ªè¯·æ±‚ç°åœ¨éƒ½æ‰§è¡Œå®Œæˆ
            }));

`getInitialState`ï¼Œä¸€èˆ¬ä¸å†ä½¿ç”¨ï¼Œåœ¨constructorä¸­ï¼Œç›´æ¥ä½¿ç”¨setStateè®¾ç½®åˆå§‹state 
`componentWillMount`ï¼Œè¯¥é’©å­åœ¨ReactV16.3ä¸­å·²ç»åºŸé™¤   
`componentDidUpdate`ï¼Œè¯¥é’©å­å¯èƒ½ä¼šå¼•èµ·æ— é™å¾ªç¯ï¼Œå°½é‡ä¸è¦ç”¨  
`shouldComponentUpdate`ï¼Œå¯ä»¥ç”¨æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œå½“çˆ¶ç»„ä»¶çš„å±æ€§å˜åŒ–ï¼Œä½†ä¸éœ€è¦é‡æ–°æ¸²æŸ“å­ç»„ä»¶æ—¶ï¼Œå¯ä»¥è¿”å›falseæ¥ä¼˜åŒ–æ€§èƒ½       
`componentWillReceiveProps`,å½“propså‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œï¼Œåˆå§‹åŒ–renderæ—¶ä¸æ‰§è¡Œï¼Œåœ¨è¿™ä¸ªå›è°ƒå‡½æ•°é‡Œé¢ï¼Œä½ å¯ä»¥æ ¹æ®å±æ€§çš„å˜åŒ–ï¼Œé€šè¿‡è°ƒç”¨this.setState()æ¥æ›´æ–°ä½ çš„ç»„ä»¶çŠ¶æ€ï¼Œæ—§çš„å±æ€§è¿˜æ˜¯å¯ä»¥é€šè¿‡this.propsæ¥è·å–,**è¿™é‡Œè°ƒç”¨æ›´æ–°çŠ¶æ€æ˜¯å®‰å…¨çš„ï¼Œå¹¶ä¸ä¼šè§¦å‘é¢å¤–çš„renderè°ƒç”¨**   

        componentWillReceiveProps: function(nextProps) {
            this.setState({
                likesIncreasing: nextProps.likeCount > this.props.likeCount
            });
        }

ä¸€ä¸ªé™·é˜±ï¼š[componentWillReceivePropsé™·é˜±](https://www.jianshu.com/p/f782d3ec59e8)


`componentWillUnmount`,å½“ç»„ä»¶è¦è¢«ä»ç•Œé¢ä¸Šç§»é™¤çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨componentWillUnmount(),åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå¯ä»¥åšä¸€äº›ç»„ä»¶ç›¸å…³çš„æ¸…ç†å·¥ä½œï¼Œä¾‹å¦‚ **å–æ¶ˆè®¡æ—¶å™¨ã€ç½‘ç»œè¯·æ±‚ç­‰**  
çˆ¶ç»„ä»¶æ”¹å˜äº†å­ç»„ä»¶çš„å±æ€§å€¼ï¼Œå­ç»„ä»¶æ˜¯é€šè¿‡è‡ªèº«çš„stateæ¥æ¸²æŸ“é¡µé¢çš„è¯ï¼Œå¯èƒ½å­ç»„ä»¶æ²¡æœ‰æ¸²æŸ“æ›´æ–°   

React 16.3(.0-alpha)æ–°ç‰¹æ€§ï¼š   
* æ–°çš„Context API   
* è¦è¢«åºŸå¼ƒçš„æ–¹æ³•ï¼š    

        componentWillMount--ä½¿ç”¨componentDidMountä»£æ›¿
        componentWillUpdate--ä½¿ç”¨componentDidUpdateä»£æ›¿
        componentWillReceiveProps--ä½¿ç”¨ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼šstatic getDerivedStateFromPropsæ¥ä»£æ›¿
    
ä¸è¿‡è¿™äº›å¹¶ä¸ä¼šç«‹åˆ»å‘ç”Ÿï¼Œ**å®ƒä»¬å¯ä»¥ç”¨åˆ°React 16.4ã€‚åœ¨React 17é‡Œå°†è¢«å½»åº•ç§»é™¤**ã€‚å¦‚æœä½ å¼€å¯äº†`StrictMode`æˆ–è€…`AsyncMode`ï¼Œå¯ä»¥é€šè¿‡è¿™æ ·çš„æ–¹å¼æ¥ä½¿ç”¨ï¼Œä½†æ˜¯ä¼šæ”¶åˆ°è­¦å‘Šï¼š

        UNSAFE_componentWillMount
        UNSAFE_componentWillReceiveProps
        UNSAFE_componentWillUpdate

* `static getDerivedStateFromProps`  
æ–°çš„é™æ€`getDerivedStateFromProps`ç”Ÿå‘½å‘¨æœŸ **åœ¨ç»„ä»¶å®ä¾‹åŒ–ä»¥åŠæ¥æ”¶æ–°`props`åè°ƒç”¨**ã€‚å®ƒå¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°`state`ï¼Œæˆ–è€…è¿”å›`null`æ¥è¡¨ç¤ºæ–°çš„`props`ä¸éœ€è¦ä»»ä½•`state`æ›´æ–°ã€‚  

        static getDerivedStateFromProps(nextProps, prevState) {
        if(nextProps.currentRow === prevState.lastRow) {
            return null;
        }

        return {
                lastRow: nextProps.currentRow,
                isCrollingDown: nextProps.curentRow > prevState.lastRow
            }
        }

ä¸`componentDidUpdate`ä¸€èµ·ï¼Œè¿™ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸåº”è¯¥è¦†ç›–ä¼ ç»Ÿ`componentWillReceiveProps`çš„æ‰€æœ‰ç”¨ä¾‹ã€‚     
è°ƒç”¨è¿™ä¸ªæ–¹æ³•å’Œä¹‹å‰è°ƒç”¨`this.setState`çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚åªä¼šä¿®æ”¹è¿™äº›è¿”å›çš„å€¼ï¼Œå¦‚æœæ˜¯nullçš„è¯åˆ™ä¸ä¿®æ”¹stateã€‚stateçš„å…¶ä»–å€¼éƒ½ä¼šä¿ç•™   

* **éœ€è¦å®šä¹‰åˆå§‹`state`çš„å€¼ã€‚æ— è®ºæ˜¯åœ¨`constructor`é‡Œï¼Œæˆ–è€…æ˜¯ç±»å±æ€§ã€‚å¦åˆ™ä¼šæŠ¥è­¦å‘Š**ã€‚
è¿™ä¸ªæ–¹æ³•`getDerivedStateFromProps()`ä¼š **åœ¨ç¬¬ä¸€æ¬¡æŒ‚è½½å’Œé‡ç»˜çš„æ—¶å€™éƒ½ä¼šè°ƒç”¨åˆ°**ï¼Œå› æ­¤ä½ åŸºæœ¬ä¸ç”¨åœ¨`constructor`é‡Œæ ¹æ®ä¼ å…¥çš„`props`æ¥`setState`ã€‚

å¦‚æœå®šä¹‰äº†`getDerivedStateFromProps`åï¼Œåˆå®šä¹‰äº†`componentWillReceiveProps`ã€‚é‚£ä¹ˆï¼Œåªæœ‰å‰è€…ä¼šè¢«è°ƒç”¨ï¼Œå¹¶ä¸”ä½ ä¼šæ”¶åˆ°ä¸€ä¸ªè­¦å‘Šã€‚

ä¸€èˆ¬ä½ ä¼šä½¿ç”¨ä¸€ä¸ªå›è°ƒæ¥ä¿è¯æŸäº›ä»£ç å®åœ¨`state`æ›´æ–°ä¹‹åæ‰è¢«è°ƒç”¨çš„ã€‚é‚£ä¹ˆï¼Œè¯·æŠŠè¿™äº›ä»£ç éƒ½ç§»åˆ°`componentDidUpdate`é‡Œã€‚

å¦‚æœä½ ä¸å–œæ¬¢ä½¿ç”¨`static`å…³é”®å­—ï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿™æ ·ï¼š

        ComponentName.getDerivedStateFromProps = (nextProps, prevState) => {
        // Your code here
        }

* æ–°çš„ç”Ÿå‘½å‘¨æœŸï¼š`getSnapshotBeforeUpdate`   
        
        class Example extends React.Component {
            getSnapshotBeforeUpdate(prevProps, prevState) {
                // ...
            }
        }
    
æ–°çš„`getSnapshotBeforeUpdate`ç”Ÿå‘½å‘¨æœŸåœ¨æ›´æ–°ä¹‹å‰è¢«è°ƒç”¨ï¼ˆä¾‹å¦‚ï¼Œåœ¨`DOM`è¢«æ›´æ–°ä¹‹å‰ï¼‰ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸçš„è¿”å›å€¼å°†ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™`componentDidUpdate`ã€‚ ï¼ˆè¿™ä¸ªç”Ÿå‘½å‘¨æœŸ **ä¸æ˜¯ç»å¸¸éœ€è¦çš„ï¼Œä½†å¯ä»¥ç”¨äºåœ¨æ¢å¤æœŸé—´æ‰‹åŠ¨ä¿å­˜æ»šåŠ¨ä½ç½®çš„æƒ…å†µ**ï¼‰  



ä¸componentDidUpdateä¸€èµ·ï¼Œè¿™ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå°†è¦†ç›–æ—§ç‰ˆcomponentWillUpdateçš„æ‰€æœ‰ç”¨ä¾‹ã€‚
* Static Mode  
ä¸¥æ ¼æ¨¡å¼æ˜¯ä¸€ä¸ªæ–°çš„æ–¹å¼æ¥ç¡®ä¿ä½ çš„ä»£ç æ˜¯æŒ‰ç…§æœ€ä½³å®è·µå¼€å‘çš„ã€‚å®ƒå®é™…æ˜¯ä¸€ä¸ªåœ¨`React.StrictMode`ä¸‹çš„ç»„ä»¶ã€‚å®ƒå¯ä»¥ç”¨åœ¨ä½ çš„ç»„ä»¶æ ‘çš„ä»»ä½•ä¸€éƒ¨åˆ†ä¸Šã€‚

        import {StrictMode} from 'react'

        class Application extends React.Component {
        render() {
            return (
            <StrictMode>
                <Context.Provider value={{background: 'black', color: 'white'}}>
                <Header />
                <Main />
                <Footer />
                </Context.Provider>
            </StrictMode>
            );
        }
        }
        
å¦‚æœä¸€ä¸ªåœ¨`StricMode`å­æ ‘é‡Œçš„ç»„ä»¶ä½¿ç”¨äº†`componentWillMount`æ–¹æ³•ï¼Œé‚£ä¹ˆä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæŠ¥é”™æ¶ˆæ¯   

* AsyncMode   
å¼‚æ­¥æ¨¡å¼åœ¨`React.unsafe_AsyncMode`ä¸‹ã€‚ä½¿ç”¨`AsncMode`ä¹Ÿä¼šæ‰“å¼€`StrictMode`æ¨¡å¼ä¸‹çš„è­¦å‘Šã€‚

(2) `flex`ä¸ç”¨å†å…³å¿ƒå…¼å®¹æ€§  

(3) æ•æ·ç®¡ç†å¼€å‘   
é¡¹ç›®åœ°å€ï¼š https://code.choerodon.com.cn/choerodon-agile/choerodon-front-agile  

æ­¥éª¤ï¼š  
        
        git clone https://code.choerodon.com.cn/choerodon-agile/choerodon-front-agileï¼ˆå¯ä»¥ä½¿ç”¨gitåè®®ï¼Œå¯ä»¥è®¾ç½®gitlabä¸­çš„é‚®ç®±ä¸ºgithubçš„é‚®ç®±å“¦ï¼Œè¿™æ ·gitlabçš„æäº¤åœ¨githubä¸Šä¹Ÿä¼šæœ‰ç»¿æ–¹æ¡†ï¼‰     
        cd choerodon-front-agile/agile
        git branch -a(æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼Œç°åœ¨åº”è¯¥æ˜¯åœ¨masteråˆ†æ”¯ä¸Š)
        git checkout feature-AG-625(åœ¨è¯¥åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œåœ¨rebaseåˆ°masterä¸Šã€‚git checkout -b feature-AG-625ï¼Œåˆ‡æ¢åˆ°è¿œç¨‹feature-AG-625åˆ†æ”¯åŒæ—¶ï¼Œæœ¬åœ°ä¹Ÿåˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸€èˆ¬ä¸ç”¨)   
        npm config list  
        npm config set registry https://nexus.choerodon.com.cn/repository/choerodon-npm/ï¼ˆæ³¨æ„è¿™ä¸ªnpmåœ°å€ï¼‰ 
        git config --global user.name "812913"ï¼ˆè®¾ä¸ºgithubçš„nameï¼‰ 
        git config --global user.email "lwfvirgo@163.com"ï¼ˆè®¾ä¸ºgithubçš„emailï¼‰ 
        npm installï¼ˆä¸‹è½½ç›¸åº”ä¾èµ–ï¼‰ 
        npm start   

é‡åˆ°çš„é—®é¢˜ï¼š    
* é¡¹ç›®å…‹éš†ä¸ä¸‹æ¥  
è™½ç„¶æ·»åŠ äº†æƒé™ï¼Œä½†æ˜¯`https://code.choerodon.com.cn/choerodon-agile/choerodon-front-agile`è¿˜æ˜¯æ²¡æœ‰å…‹éš†å¾—æƒé™ï¼Œåæ¥æ”¹ä¸ºgitåè®®å¯¹åº”åœ°å€å°±å¥½äº†  
* `npm start`æ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š  
    
    > agile@0.6.0 start E:\choerodon-agile\choerodon-front-agile\agile
    > choerodon-front-boot start --config ../config.js

    ğŸ“¦  building modules (1/1 modules)events.js:183
        throw er; // Unhandled 'error' event
        ^

    Error: listen EADDRINUSE 0.0.0.0:9090  

é”™è¯¯åŸå› ï¼Œç«¯å£å·è¢«å ç”¨ï¼Œä¿®æ”¹äº†config.jsæ–‡ä»¶çš„portå­—æ®µä¸º`8080`å°±å¥½äº†

ç›®å‰ä»»åŠ¡ï¼š    
[ç”¨æˆ·æ•…äº‹åœ°å›¾](http://agile.choerodon.staging.saas.hand-china.com/#/agile/userMap?type=project&id=340&name=8%E6%9C%881%E6%97%A5%E6%96%B0%E9%A1%B9%E7%9B%AE&organizationId=20)   

å‚è€ƒåœ°å€ï¼š[ChoerodonæŒç»­äº¤ä»˜ User story map](http://pm.saas.hand-china.com/projects/C7NCD?selectedItem=com.arijea.plugins.easy-agile-user-story-maps&rapidView=32)  

æ¥å£åœ°å€ï¼š[swagger UI](http://api.staging.saas.hand-china.com/manager/swagger-ui.html)/agile/issue-controller 

å¼€å‘æµç¨‹ï¼š   

1. åœ¨choerodon-front-agile/agile/containers/projectä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—çš„æ–‡ä»¶å¤¹(æ–‡ä»¶åé¦–å­—æ¯å¤§å†™)ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºè¯¥æ¨¡å—çš„å…¬ç”¨ç»„ä»¶ã€æ€»çš„ç»„ä»¶ã€index.js(å¯¼å‡ºç»„ä»¶)       
2. åœ¨choerodon-front-agile/agile/containers/AGILEIndex.jsä¸­é…ç½®ç›¸åº”è·¯ç”±    
3. åœ¨choerodon-front-agile/agile/stores/projectä¸‹åˆ›å»ºç›¸åŒåç§°çš„æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬æ˜¯ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯storeï¼Œä¸€ä¸ªç”¨æ¥å¯¼å‡ºstore     
4. åœ¨choerodon-front-agile/agile/containers/projectå“åº”æ¨¡å—ä¸‹å¼•å…¥storeï¼Œè¿›è¡Œå¼€å‘   

(4) å¦‚ä½•è®¾ç½®æ–­ç‚¹  
æ§åˆ¶å°-ã€‹Sources-ã€‹ctrl+P=ã€‹è¾“å…¥æ–‡ä»¶å-ã€‹è®¾ç½®æ–­ç‚¹-ã€‹æ‰“å°(å¯ä»¥æ‰“å°è¯¥ä½œç”¨åŸŸå’Œå…¨å±€çš„)

(5) æŸ¥çœ‹AppState  
å¯ä»¥ä½¿ç”¨React Developer Toolsï¼ŒAppStateåœ¨`<Provider>`ä¸Šæœ‰AppStateå±æ€§  

(6) å…³äºmobx  
ä½¿ç”¨`@observable`å®šä¹‰çš„è§‚æµ‹å€¼ï¼Œåªèƒ½é€šè¿‡`@action`å®šä¹‰çš„æ–¹æ³•å»ä¿®æ”¹å®ƒ   
å¦‚ï¼š  

        @observable epics= [];
        @action setEpics(data) {
            this.epics = data;
        }

ä½¿ç”¨`@computed`å¯ä»¥ç”¨æ¥è¿”å›æŸä¸ªè§‚æµ‹å€¼æˆ–æ ¹æ®è§‚æµ‹å€¼è¿›è¡Œè®¡ç®—   
å¦‚ï¼š  
         
         @computed get getEpics() {
            return this.epics;
        }

### ä»Šå¤©çš„ä¸€ä¸ªä»»åŠ¡  
å®Œå–„ç”¨æˆ·æ•…äº‹åœ°å›¾çš„å¿«é€Ÿæœç´¢åŠŸèƒ½   

é—®é¢˜æè¿°ï¼š    
ï¼ˆ1ï¼‰å¿«é€Ÿæœç´¢æœ‰å‡ ä¸ªé€‰é¡¹ï¼šä»…æˆ‘çš„é—®é¢˜ã€ä»…ç”¨æˆ·æ•…äº‹ã€è‡ªå®šä¹‰çš„ä¸€äº›å—ï¼Œç‚¹å‡»é€‰æ‹©ç›¸åº”å—ï¼Œè¿‡æ»¤æ¸²æŸ“ç›¸åº”çš„å†…å®¹   
å…¶ä¸­å¾—ä¸»è¦é—®é¢˜å°±æ˜¯ä»…æˆ‘çš„é—®é¢˜å’Œä»…ç”¨æˆ·æ•…äº‹æ˜¯å›ºå®šå°±æœ‰çš„ï¼Œæ²¡æœ‰ç›¸åº”çš„idï¼Œè‡ªå®šä¹‰çš„å—æ˜¯æœ‰idçš„   

è§£å†³ï¼šç‚¹å‡»ä»…æˆ‘çš„é—®é¢˜ã€ä»…ç”¨æˆ·æ•…äº‹æ—¶ï¼Œä¼ å…¥`mine`ã€`userStory`åˆ°`currentFilters`ä¸­ï¼Œç‚¹å‡»è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œä¼ å…¥`filter.filterId`åˆ°`currentFilters`ä¸­ï¼Œæ ¹æ®æ˜¯å¦æœ‰`mine`ã€`userStory`ï¼Œç¡®å®šè¯·æ±‚çš„åœ°å€ä¸­æ˜¯å¦æœ‰`assigneeId`ã€`onlyStory`å­—æ®µï¼Œä»è€Œç¡®å®šè¯·æ±‚åœ°å€   

ï¼ˆ2ï¼‰å½“ç‚¹å‡»æ—¶å°†å…¶åŠ å…¥`currentFilters`ä¸­ï¼Œå†æ¬¡ç‚¹å‡»æ—¶ï¼Œä»è¯¥æ•°ç»„ç§»é™¤  

         const index = currentFilters.indexOf(value);
        if (index !== -1) {
        arr.splice(index, 1);
        } else {
        arr.push(value);
        }
è¿™æ ·å†™è¾ƒå¥½ï¼Œæ¯”ä½¿ç”¨arr.contains()å°‘äº†ä¸€æ¬¡æ±‚indexçš„è®¡ç®—   

ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼š   
å½“ç‚¹å‡»äº†å¿«é€Ÿæœç´¢çš„æ¨¡å—è¿›è¡Œç­›é€‰æ¸²æŸ“åï¼Œå¦‚æœè¦è·³åˆ°å…¶ä»–é¡µé¢ï¼Œåº”è¯¥åœ¨è¯¥é¡µé¢ç»„ä»¶å°†å¸è½½æ—¶æ¸…ç©ºç­›é€‰æ¡ä»¶ï¼Œå¦åˆ™ç‚¹å‡»å›æ¥æ—¶ä»ç„¶æ˜¯ç­›é€‰åçš„é¡µé¢ï¼š 

         componentWillUnmount() {
            this.setCurrentFilter([]);
        }

æ”¶è·ï¼š  
é‡‘ç´å­¦å§éå¸¸è®¤çœŸï¼Œå¸¦ç€æˆ‘åšäº†è¿™ä¸ªåŠŸèƒ½ã€‚åšè¿™ä¸ªåŠŸèƒ½æ—¶ï¼Œå‘ç°äº†è‡ªèº«çš„å‡ ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰åšä¹‹å‰æ²¡æœ‰å…¨æ–¹ä½æ€è€ƒï¼Œæ¯”å¦‚`currentFilters`åº”è¯¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯å•ä¸ªå€¼ï¼Œè¦è€ƒè™‘ç”¨æˆ·ç‚¹å‡»å¤šä¸ªçš„æƒ…å†µï¼›ï¼ˆ2ï¼‰ä¸€äº›æ–¹æ³•è¿ç”¨çš„ä¸æ˜¯å¾ˆç†Ÿç»ƒï¼Œè¦å¤šåŠ ç»ƒä¹   

ä»Šå¤©å­¦å§è¿˜æ˜¯äº¤ç»™æˆ‘äº†å¾ˆå¤šä¸œè¥¿ï¼Œå¦‚æ•æ·ç®¡ç†ä¸‹çš„å‡ ä¸ªæ¨¡å—ã€Reactç”Ÿå‘½å‘¨æœŸä¸€äº›æ²¡æœ‰æ³¨æ„çš„é—®é¢˜ï¼Œæ¯”å¦‚`componentWillMount`ç«Ÿç„¶è¦åºŸå¼ƒäº†ã€Mobxä¸­ä¸€å®šè¦ä½¿ç”¨`@action`å»ä¿®æ”¹`@observe`å®šä¹‰çš„è§‚æµ‹å€¼ã€æ•æ·é¡¹ç›®ç»“æ„åŠå¼€å‘ç­‰ç­‰ã€‚   

## [object.omit](https://www.npmjs.com/package/object.omit)   
1. å®‰è£…  
   
   npm install --save object.omit   

2. ä½¿ç”¨  
   
   var omit = require('object.omit');  

    // string key
    console.log(omit({a:'a',b:'b',c:'c'},'a')); // { b: 'b', c: 'c' }
    // an array of key
    console.log(omit({a:'a',b:'b',c:'c'},['a','c'])); // { b: 'b' } 
    //no key
    console.log(omit({a:'a',b:'b',c:'c'})); // { a: 'a', b: 'b', c: 'c' }
    //no value
    console.log(omit()); // {}  

3. filter function  
   
   æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªè¿‡æ»¤å‡½æ•°(å¯é€‰) 


   åœ¨keyä¸Šè¿‡æ»¤ï¼š  
    
    var res=omit({a: 'a', b: 'b', c: 'c'},function(val,key){
    return key === 'a';
    })
    console.log(res); // { a: 'a' }

    åœ¨valueä¸Šè¿‡æ»¤ï¼š  

    var fn=function(){};
    var obj={a: fn, b: 'b', c: fn};
    var res1=omit(obj,['a'],function(val,key){
        return typeof val!=='function';
    })
    console.log(res1); // { b: 'b' }

## ä»Šæ—¥æ€»ç»“  
ä»Šå¤©å¼€å§‹æˆ‘ä»¬è·Ÿé¡¹ç›®ä¸€å‘¨ï¼Œé‡‘ç´å­¦å§å¸¦æˆ‘ã€‚èŠ‚è§¦äº†å¾ˆå¤šæ–°çš„ä¸œè¥¿ï¼Œä¹Ÿåˆæ¬¡æ„Ÿå—åˆ°äº†æ­£å¼ä¸Šç­çš„ç´§è¿«æ„Ÿã€‚ä¸€å¤©ä¸‹æ¥ï¼Œæ˜¯è§‰å¾—æ¯”è‡ªå·±çœ‹è¦å¥½ã€‚
